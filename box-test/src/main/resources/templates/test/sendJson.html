<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>发送json</title>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
<script type="text/javascript">
    var ctx = [[@{/}]];
    function send1() {
        var beauty = JSON.stringify({ //将JSON对象转换为字符串
            "name": "小王",
            "age": 26,
            "salary": 200000,
            "date": "2019-08-05 08:04:13"
        });

        $.ajax({
            type: 'POST',
            url: ctx+"/test/simple",
            data: beauty,  //beauty是字符串
            contentType: "application/json",
            dataType: "json",
            success: function(message) {
                alert(JSON.stringify(message)); //将JSON对象转换为字符串
            }
        });
    };

    function send2() {
        var beauty = JSON.stringify({
            "MM": [{
                "name": "张三",
                "age": 27,
                "salary": 20000,
                "date": "2017-05-19 09:33:14"
            }, {
                "name": "李四",
                "age": 30,
                "salary": 30000,
                "date": "2019-10-21 17:04:33"
            }],
            "master": {
                "name": "小甜甜",
                "age": 26,
                "salary": 200000,
                "date": "2019-08-05 08:04:13"
            }
        });

        $.ajax({
            type: "POST",
            url: ctx+"/test/complex",
            contentType: "application/json; charset=utf-8",
            data: beauty,
            dataType: "json",
            success: function(message) {
                alert("提交成功" + JSON.stringify(message));
            },
            error: function(message) {
                alert("提交失败" + JSON.stringify(message));
            }
        });
    };
    function send3() {

        //var jsonObj = {'t_head': "${t_head}", 't_detail': "${t_detail}"};
        var jsonObj = {"t_head": "CSFR412_15175TOPGPAP", "t_detail": "CSFR4125175TOPGPAP"};
        $.ajax(
            {
                type: 'POST',
                url: ctx+"/anon/bps/frforcr/toptest",
                dataType: "json",
                data: JSON.stringify(jsonObj),
                contentType : "application/json",
                callback: "callback",
                success: function (data)
                {
                    alert(data.msg);
                },
                error: function ()
                {
                    alert(data.msg);
                }
            }
        );
    }
</script>

<input type="button" name="btn1" id="s1" onclick="send1()" value="发送简单json" />
<br />
<hr />
<input type="button" name="btn2" id="s2" onclick="send2()" value="发送复杂json" />
<br />
<hr />
<input type="button" name="btn3" id="s3" onclick="send3()" value="发送json到FrForCr" />
</body>
</html>
