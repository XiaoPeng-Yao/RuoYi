<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ruoyi.content.mapper.ClickTrackInfoQueryMapper" >
  <resultMap id="BaseResultMap" type="com.ruoyi.content.domain.ClickTrackInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 20 16:32:59 CST 2018.
    -->
    <id column="CLICK_ID" property="clickId" jdbcType="VARCHAR" />
    <result column="FORWARD_TIMESTAMP" property="forwardTimestamp" jdbcType="VARCHAR" />
    <result column="PARENT_CLICK_ID" property="parentClickId" jdbcType="VARCHAR" />
    <result column="CLICK_OPEN_ID" property="clickOpenId" jdbcType="VARCHAR" />
    <result column="CLICK_USER_NICKNAME" property="clickUserNickname" jdbcType="VARCHAR" />
    <result column="CLICK_USER_HEADIMGURL" property="clickUserHeadimgurl" jdbcType="VARCHAR" />
    <result column="PUBLISH_USER_ID" property="publishUserId" jdbcType="VARCHAR" />
    <result column="ARTICLE_ID" property="articleId" jdbcType="VARCHAR" />
    <result column="CLICK_USER_ID" property="clickUserId" jdbcType="VARCHAR" />
    <result column="AD_ID" property="adId" jdbcType="VARCHAR" />
    <result column="FROM_SHARE_STATE" property="fromShareState" jdbcType="VARCHAR" />
    <result column="SHARE_STATE" property="shareState" jdbcType="VARCHAR" />
    <result column="WATCH_TIME" property="watchTime" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="VARCHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="VARCHAR" />
    <result column="UPDATE_USER" property="updateUser" jdbcType="VARCHAR" />
    <result column="UPDATE_DATE" property="updateDate" jdbcType="VARCHAR" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="VARCHAR" />
  </resultMap>

  <select id="queryClickInfoByUserId" resultMap="BaseResultMap">
		SELECT
		CLICK_ID, FORWARD_TIMESTAMP, PARENT_CLICK_ID, CLICK_OPEN_ID, CLICK_USER_NICKNAME, 
    	CLICK_USER_HEADIMGURL, PUBLISH_USER_ID, ARTICLE_ID, CLICK_USER_ID, AD_ID, FROM_SHARE_STATE, 
    	SHARE_STATE, WATCH_TIME, CREATE_DATE, CREATE_TIME, CREATE_USER, UPDATE_USER, UPDATE_DATE, 
    	UPDATE_TIME
		FROM
		click_track_info 
		WHERE
		PUBLISH_USER_ID = #{userId,jdbcType=VARCHAR} AND ARTICLE_ID =  #{articleId,jdbcType=VARCHAR}
		ORDER BY CREATE_DATE DESC,CREATE_TIME DESC
		limit #{startRow,jdbcType=DECIMAL},#{rows,jdbcType=DECIMAL}
	</select>
</mapper>