<html lang="zh" xmlns:th="http://www.thymeleaf.org"
	xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
 <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="author" content="infosouth"/>
<meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10" />
<meta http-equiv="Expires" content="0"><meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Cache-Control" content="no-store">
<script src="/oneself/jquery/jquery-1.8.3.min.js" type="text/javascript"></script>

<!-- 模态框拖拽 -->
<link href="/oneself/bootstrap/modelDlg/jquery-ui.css" rel="stylesheet"/>
<script src="/oneself/bootstrap/modelDlg/jquery-ui.min.js"></script>
<script src="/oneself/bootstrap/modelDlg/jquery-ui.touch-punch.js"></script>


<link href="/oneself/bootstrap/2.3.1/css_cerulean/bootstrap.min.css" type="text/css" rel="stylesheet" />
<script src="/oneself/bootstrap/2.3.1/js/bootstrap.min.js" type="text/javascript"></script>

<link href="/oneself/bootstrap/2.3.1/awesome/font-awesome.min.css" type="text/css" rel="stylesheet" />
<!--[if lte IE 7]><link href="/oneself/bootstrap/2.3.1/awesome/font-awesome-ie7.min.css" type="text/css" rel="stylesheet" /><![endif]-->
<!--[if lte IE 6]><link href="/oneself/bootstrap/bsie/css/bootstrap-ie6.min.css" type="text/css" rel="stylesheet" />
<script src="/oneself/bootstrap/bsie/js/bootstrap-ie.min.js" type="text/javascript"></script><![endif]-->
<link href="/oneself/jquery-select2/3.4/select2.min.css" rel="stylesheet" />
<script src="/oneself/jquery-select2/3.4/select2.min.js" type="text/javascript"></script>

<link href="/oneself/bootstrap/select/bootstrap-select.min.css" rel="stylesheet" />
<script src="/oneself/bootstrap/select/bootstrap-select.min.js" type="text/javascript"></script>

<link href="/oneself/jquery-validation/1.11.0/jquery.validate.min.css" type="text/css" rel="stylesheet" />
<script src="/oneself/jquery-validation/1.11.0/jquery.validate.min.js" type="text/javascript"></script>
<link href="/oneself/jquery-jbox/2.3/Skins/Bootstrap/jbox.min.css" rel="stylesheet" />
<script src="/oneself/jquery-jbox/2.3/jquery.jBox-2.3.min.js" type="text/javascript"></script>
<script src="/oneself/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
<script src="/oneself/common/mustache.min.js" type="text/javascript"></script>
<link href="/oneself/common/numberone.css" type="text/css" rel="stylesheet" />
<script src="/oneself/common/numberone.js" type="text/javascript"></script>


<!-- layui 弹出层插件 -->
<!--  引入layui 弹出框插件 -->
<link href="/oneself/layui/js/theme/default/layer.css" type="text/css" rel="stylesheet" />
<!--引入layui 弹出框插件  -->
<script src="/oneself/layui/js/layer.js"></script>
	
<!-- 	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> -->
	<meta name="decorator" content="default"/>
	<!-- 静态页面js文件刷新 -->
    <meta http-equiv="pragma" content="no-cache"/>
	<meta http-equiv="Cache-Control" content="no-cache, must-revalidate"/>
	<meta http-equiv="expires" content="0"/>
	<!-- 静态页面js文件刷新 -->
	<script src="/oneself/bootstrap/modelDlg/jquery-ui.touch-punch.js"></script>
	<script src="/oneself/bootstrap/2.3.1/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="/oneself/jquery-select2/3.4/select2.min.js" type="text/javascript"></script>
	<script src="/oneself/bootstrap/select/bootstrap-select.min.js" type="text/javascript"></script>
	<script src="/oneself/jquery-jbox/2.3/jquery.jBox-2.3.min.js" type="text/javascript"></script>
	<script src="/oneself/common/mustache.min.js" type="text/javascript"></script>
	<script src="/oneself/layui/js/layer.js"></script>
<style>
	tbody>tr{
		cursor:pointer;
	}
	.input-mini {
   		width: 85px;
	}
	input.input-medium {
   		width: 85px;
   		margin-left: 4px;
	}
	.form-search .ul-form li label {
	    text-align: left;
	    padding-left:0px;
	}
	.text_span{
		line-height: 20px;
	}
	/* 遮罩层 */
	 .zhezhao_mask {       
            position: absolute; top: 0px; filter: alpha(opacity=40); background-color: #777;     
            z-index: 1002; left: 0px;     
            opacity:0.5; -moz-opacity:0.5;     
     }
     input#beginDate{
     	margin-left: 4px;
     }
     input#endDate{
     	margin-left: 4px;
     }
    /*  input#arn{
     	margin-top: 26px;
     } */
     input#acType_input{
     	margin-left:80px;
     }
     .select2-container-multi .select2-choices li{
     	height:18px;
     }
     .mymultipleSelect{
     	width:170px;
     }
     .mymultipleSelect_medium{
     	width:170px;
     }
     .form-search label {
    	margin-left: 2px;
	}
	.form-search .ul-form li label{
		width: 70px;
		padding-left: 5px;
	}
	.breadcrumb{
		/* padding-right:0px; */
	}
	.queryCsvLi{
		margin-left:0px;
		padding-left:5px;
	}
	.form-search .ul-form li{
		line-height: 30px;
	}
	
	/* 保存模板样式设置 */
	/* .versionId{
		width:80px;
	} */
	/* #versionId{
		top:-900%;
	} */	
	
	/* 隐藏滚动条，但仍然能滚动 */
/* ::-webkit-scrollbar{
	display:none;
} */
	
	/***表格tbody滚动样式------------------------**/
	table tbody {
		display:block;
		height:640px;
		overflow-y:scroll;
		
	}
	
	table thead, tbody tr {
		display:table;
		width:100%;
		table-layout:fixed;
	}
	
	table thead {
		/* width: calc(100% - 1em); */
		width: calc(100% - 17px);
	}
	table thead th{ background:#ccc;}
	/***表格tbody滚动样式---------------------------**/
	
	/* searchForm 默认位置 */
	#searchForm{
		margin-top: 0px;
	}
	
	/* searchForm 默认位置 */
</style>


</head>
<body>

	<form id="searchForm" modelAttribute="showMultiCsv"
		action="/csvmanager/showMultiCsv/showMultiCsvList" method="post"
		class="breadcrumb form-search ">
		<ul class="ul-form">

			<li><label>航班日期：</label><input id="beginDate" name="beginDate"
				type="text" readonly="readonly" maxlength="20"
				class="input-mini Wdate" value="" pattern="yyyy-MM-dd" /> <input
				id="endDate" name="endDate" type="text" readonly="readonly"
				maxlength="20" class="input-mini Wdate" value=""
				pattern="yyyy-MM-dd" /></li>
			<li><select id="versionId" name="versionId" class="input-small"
				style="display: none;">
			</select></li>
			<li><label>机型：</label> <select id="acType" path="acType"
				class="input-large mymultipleSelect" multiple="multiple">

			</select></li>
			<li><label>飞机号：</label> <select id="arn" path="arn"
				class="input-medium mymultipleSelect_medium" multiple="multiple">
			</select></li>
			<li><label>起飞机场：</label><input name="queryPod" id="queryPod"
				path="" htmlescape="false" maxlength="50" class="input-medium"></li>
			<li><label>落地机场：</label><input name="queryPoa" id="queryPoa"
				path="" htmlescape="false" maxlength="50" class="input-medium"></li>

			<li class="btns queryCsvLi"><input id="btnSubmit"
				class="btn btn-primary" type="submit" value="查询"
				onclick="return page();" /></li>
			<li class="btns queryCsvLi"><input id="openAllNewWindowsBtn"
				class="btn btn-primary" type="button" value="打开图表" /></li>
		</ul>

	</form>
	<table id="contentTable"
		class="table table-striped table-bordered table-condensed">
		<thead>
			<tr>
				<th style="width: 30px;"></th>
				<th>csv序号</th>
				<th>飞机号</th>
				<th>航班日期</th>
				<th>机型</th>
				<th>起飞</th>
				<th>落地</th>
			</tr>
		</thead>
		<!-- <tbody id="tbody_flight_csv" th:each="showCsv,vs: ${showCsv}">
			<tr class="${showCsv.id}">				
				<td style="width:30px;"><input type="checkbox" name="" value="${showCsv.id}" id="flight_csv_${showCsv.id}" alt=""/></td>
				<td class="flightCsvIndex_${showCsv.id}">航班csv${vs.index+1}</td>
				<td th:text="${showCsv.arn}">${showCsv.arn}</td>
				<td th:text="${showCsv.flDate}">${showCsv.flDate}</td>
				<td th:text="${showCsv.acType}">${showCsv.acType}</td>
				<td th:text="${showCsv.acType}">${showCsv}</td>
				<td th:text="${showCsv.poa}">${showCsv}</td>
			</tr>
		</tbody> -->
	</table>
	<!-- 	<div class="pagination">${page}</div>
 -->

	<!-- 模拟 alert弹窗 -->
	<div id="date_alert"
		style="width: 90%; position: fixed; left: 5%; top: 40%; background: rgba(0, 0, 0, 0.6); height: 3rem; text-align: center; line-height: 3rem; border-radius: 0.3rem; color: #fff; font-size: 1.2rem; display: none;">
		添加成功</div>

	<!--这是遮罩层，默认是不显示的，设置透明度为0.1-->
	<div id="masking_bg"
		style="display: none; position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 1040; background-color: black; opacity: 0.1"></div>
	<div id="zhezhao_mask" class="zhezhao_mask"></div>
	<!--这是遮罩层，默认是不显示的，设置透明度为0.1-->


	<!-- 根据选中的版本，，刷新版本下拉框的信号-->
	<a id="choosed_versionId_by_choosed_versionId"
		onclick="return choosed_versionId_by_choosed_versionId_func();"
		value="" /></a>
	<!-- 	<a id="choosed_versionId_by_choosed_versionId"
		onclick="#"
		value="" /></a> -->
	<script src="/oneself/jquery/jquery-1.8.3.min.js" type="text/javascript"></script>

	<script type="text/javascript">

	//根据选择的versionId查询versionList
	function choosed_versionId_by_choosed_versionId_func(){
		choosed_versionId_by_choosed_versionId = '';
		choosed_versionId_by_choosed_versionId = $("#choosed_versionId_by_choosed_versionId").text();  //获取<a>的值
		//获取选中的构型id后，清空choosed_versionId_by_choosed_versionId <a>的值
		$("#choosed_versionId_by_choosed_versionId").empty();
		$.ajax({
			type: "POST",
			url: '/csvmanager/showMultiCsv/getVersionIdList',
	    	data: {
			},
			dataType:'json',
			cache: false,
			success: function(data){
				if(data.status=='1001'||data.status==1001){
					versionIdJsonArr = [];
					versionIdJsonArr = data.data;
					versionIdHtml = '';
					for(var i=0;i<versionIdJsonArr.length;i++){
						versionId_i = '';
						versionId_i = versionIdJsonArr[i];
						each_versionId_html = '';
						each_versionId_html += "<option value=\""+versionId_i.id+"\">"+versionId_i.ver_name+"</option>";
						versionIdHtml = versionIdHtml + each_versionId_html;
					}
					
					$("#versionId").empty();
// 					$("#versionId").select2("val", ""); 
					$("#versionId").append(versionIdHtml);
					$("#versionId").val(choosed_versionId_by_choosed_versionId).trigger("change");
					
					//刷新查询列表
					page('','',choosed_versionId_by_choosed_versionId);
				}else{
					
					return;
				}
	
			}
		});
		
	}
	
	function page(n,s,choosed_versionId_by_choosed_versionId){
		//如果choosed_versionId_by_choosed_versionId 为空，获取另一个页面的versionId
		versionId_handled = '';
		if(choosed_versionId_by_choosed_versionId==''||choosed_versionId_by_choosed_versionId==undefined){
			versionId_handled = $(parent.window.frames["showMultiColumnsName"].document).find("#versionId").val();
		}
		if(n) $("#pageNo").val(n);
		if(s) $("#pageSize").val(s);
		$("#searchForm").attr("action","/csvmanager/showMultiCsv/showMultiCsvList?choosed_versionId_by_choosed_versionId="+choosed_versionId_by_choosed_versionId+'&versionId_handled='+versionId_handled);
		$("#searchForm").submit();
		return false;
	}

	</script>



</body>
</html>